{% extends "reporters/base.html" %}
{% load reporters %}
{% block content %}

<div class="split">
	<div class="left">
		<div class="module">
			<h2>All Reporters</h2>
			<table>
				<thead>
					<tr>
						<th scope="col">Name</th>
						<th scope="col">Alias</th>
						<th scope="col">Last Seen</th>
					</tr>
				</thead>
				<tbody>{% if reporters.object_list %}{% for reporter in reporters.object_list %}
					<tr>
						<td><a href="{% self_link "edit" reporter.pk %}"{% if reporter.full_name %}>{{ reporter.full_name }}{% else %} class="unknown">Unknown{% endif %}</a></td>
						<td>{% if reporter.alias %}{{ reporter.alias }}{% else %}<span class="na">n/a</span>{% endif %}</td>
						<td>{{ reporter.last_seen|last_seen }}</td>
					</tr>{% endfor %}{% else %}
					<tr class="no-data">
						<td colspan="3">
							No Reporters Yet.
							<a href="/reporters/add" class="add">
								Add a Reporter
							</a>
						</td>
					</tr>{% endif %}
				</tbody>
				<tfoot>
					<tr>
						<td colspan="{{ app.columns|length }}">
							<div class="paginator">{% if reporters.has_previous %}
								<a href="{% self_link "p" 1 %}" class="first" title="First page">First Page</a>
								<a href="{% self_link "p" reporters.previous_page_number %}" class="prev" title="Previous page">Previous Page</a>{% else %}
								<span class="first na" title="You are already on the first page">First Page</span>
								<span class="prev na" title="There are no previous pages">Previous Page</span>{% endif %}{% for page in reporters.paginator.page_range %}
								<a href="{% self_link "p" page %}"{% ifequal page reporters.number %} class="active"{% endifequal %} title="Page {{ page }}">{{ page }}</a>{% endfor %}{% if reporters.has_next %}
								<a href="{% self_link "p" reporters.next_page_number %}" class="next" title="Next page">Next Page</a>
								<a href="{% self_link "p" reporters.paginator.num_pages %}" class="last" title="Last page">Last Page</a>{% else %}
								<span class="next na" title="There are no more pages">Next Page</span>
								<span class="last na" title="You are already on the last page">Last Page</span>{% endif %}
							</div>
						</td>
					</tr>
				</tfoot>
			</table>
			<div class="toolbar">
				<a href="/reporters/groups/add" class="add">Add a Group</a>
				<a href="/reporters?add=1" class="add">Add a Reporter</a>
			</div>
		</div>
	</div>
	<div class="right">{% if reporter %}
		{% reporters_form reporter %}{% else %}
		{% reporters_form %}{% endif %}
	</div>
	<div class="clear-hack"></div>
</div>

{% endblock %}
